# Async Serial Boot ROM (node 708)

ROM type: `async_boot`
Representative node: 708
ROM address range: 0x80 - 0xBF (64 words)

## Symbols

| Symbol | Address |
|--------|---------|
| relay | 0xa1 |
| warm | 0xa9 |
| cold | 0xaa |
| ser-exec | 0xae |
| ser-copy | 0xb3 |
| wait | 0xbb |
| sync | 0xbe |
| start | 0xc5 |
| delay | 0xc8 |
| 18ibits | 0xcb |
| byte | 0xd0 |
| 4bits | 0xd2 |
| 2bits | 0xd3 |
| 1bit | 0xd4 |
| lsh | 0xd9 |
| rsh | 0xdb |

## Disassembly

```
  [0x80]  0x0096b  @b | . | -if(0x3)
  [0x81]  0x2c278  . | drop | next(0x0)
  [0x82]  0x115b5  jump(0x1b5)
  [0x83]  0x2c29a  . | drop | pop | .
  [0x84]  0x32755  - | 2/ | ;
  [0x85]  0x256bb  dup | call(0xbb)
  [0x86]  0x20dc2  over | dup | 2/ | .
  [0x87]  0x3c8b2  + | push | . | .
  [0x88]  0x00969  @b | . | -if(0x1)
  [0x89]  0x2c278  . | drop | next(0x0)
  [0x8a]  0x01555  @b | ;
  [0x8b]  0x134be  call(0xbe)
  [0x8c]  0x134be  call(0xbe)
  [0x8d]  0x256c5  dup | call(0xc5)
  [0x8e]  0x134d3  call(0xd3)
  [0x8f]  0x134d0  call(0xd0)
  [0x90]  0x3b6c5  drop | call(0xc5)
  [0x91]  0x134d2  call(0xd2)
  [0x92]  0x134d3  call(0xd3)
  [0x93]  0x134d4  call(0xd4)
  [0x94]  0x2e79a  push | 2/ | pop | .
  [0x95]  0x20312  over | or | @p | .
  [0x96]  0x20000  (data: 131072)
  [0x97]  0x3e382  and | or | over | .
  [0x98]  0x2f7c8  push | jump(0xc8)
  [0x99]  0x2e9b2  push | . | . | .
  [0x9a]  0x37155  2* | unext | ;
  [0x9b]  0x2e9b2  push | . | . | .
  [0x9c]  0x31155  2/ | unext | ;
  [0x9d]  0x134a9  call(0xa9)
  [0x9e]  0x134a9  call(0xa9)
  [0x9f]  0x134a9  call(0xa9)
  [0xa0]  0x134a9  call(0xa9)

; ---- relay ----
  [0xa1]  0x26a1a  pop | a! | @+ | .
  [0xa2]  0x2fc7c  push | @+ | next(0x4)
  [0xa3]  0x3b7a8  drop | jump(0xa8)
  [0xa4]  0x26fbf  pop | over | push | @p
  [0xa5]  0x236a1  (data: 145057)
  [0xa6]  0x09b22  !b | !b | !b | .
  [0xa7]  0x07b72  @+ | !b | unext | .
  [0xa8]  0x228ad  a | push | a! | ;

; ---- warm ----
  [0xa9]  0x115b5  jump(0x1b5)

; ---- cold ----
  [0xaa]  0x04a0a  @p | a! | @ | .
  [0xab]  0x031a5  (data: 12709)
  [0xac]  0x009b2  @b | . | . | .
  [0xad]  0x1b4b8  -if(0xb8)

; ---- ser-exec ----
  [0xae]  0x134cb  call(0xcb)
  [0xaf]  0x3a8b2  drop | push | . | .
  [0xb0]  0x134cb  call(0xcb)
  [0xb1]  0x3aab2  drop | a! | . | .
  [0xb2]  0x134cb  call(0xcb)

; ---- ser-copy ----
  [0xb3]  0x3a87d  drop | push | next(0x5)
  [0xb4]  0x15555  ;
  [0xb5]  0x134cb  call(0xcb)
  [0xb6]  0x3b87d  drop | !+ | next(0x5)
  [0xb7]  0x15555  ;
  [0xb8]  0x3bdba  drop | @p | push | .
  [0xb9]  0x001b5  (data: 437)
  [0xba]  0x2f555  push | ;

; ---- wait ----
  [0xbb]  0x2c202  . | drop | @b | .
  [0xbc]  0x1b4bb  -if(0xbb)
  [0xbd]  0x2c255  . | drop | ;

; ---- sync ----
  [0xbe]  0x24d4b  dup | dup | call(0x3)
  [0xbf]  0x386ba  or | - | push | .
```

## References

- [BOOT-02 - Boot Protocols](../../reference/greenarrays/pdfs/BOOT-02.txt) — UART async serial boot protocol specification
- [DB001 - F18A Technology Reference (2022)](../../reference/greenarrays/pdfs/DB001-221113-F18A.txt) — Node 708 ROM and async boot behavior
